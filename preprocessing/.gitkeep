
import cv2
import matplotlib.pyplot as plt
import os

# ✅ Corrected paths based on your project structure
image_path = "../data/raw/preview/images/10078660_15.png"
mask_path = "../data/raw/preview/masks/10078660_15.png"

# ✅ Check if files exist
print("Image exists:", os.path.exists(image_path))
print("Mask exists:", os.path.exists(mask_path))

# ✅ Load the image and mask
image = cv2.imread(image_path)
mask = cv2.imread(mask_path, cv2.IMREAD_GRAYSCALE)

# ✅ Normalize the image (convert pixel values to 0–1 range)
image = image / 255.0 if image is not None else None

# ✅ Display using matplotlib
if image is not None and mask is not None:
    plt.figure(figsize=(10, 5))

    plt.subplot(1, 2, 1)
    plt.imshow(image)
    plt.title("Satellite Image")
    plt.axis('off')

    plt.subplot(1, 2, 2)
    plt.imshow(mask, cmap='gray')
    plt.title("Road Mask")
    plt.axis('off')

    plt.tight_layout()
    plt.show()
else:
    print("❌ Image or mask not loaded. Please check the file paths and image integrity.")